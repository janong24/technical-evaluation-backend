# o8t interview backend coding challenge

This repository contains a backend coding challenge for interviews at omniscient neurotechnology for backend
roles.

The challenge is designed to take on average about 4hr.
You are free to spend more or less time on the challenge as you see fit.

If you do not complete the challenge, that is ok!
Be prepared to discuss your solution and next steps you would take as well as the problems you encountered and
their potential solutions.

The goal of the exercise is to learn how you break down problems and write code.
Prioritize "clean" understandable code to a fully working solution.
Your solution will be disussed in a technical interview to follow.

The challenge is intended to emulate day-to-day development at omniscient.
As such, you are free to use your normal toolkit to complete the challenge.
This may include LLMs.
Like real life, ownership over code is yours even if it was originally generated by an LLM.
In real day-to-day work developers are responsible for maintaining and debugging the code they submit.
If you do choose to use an LLM, make sure that you understand all code that you are submitting and are
prepared to speak to it

Your submission will be evaluated on code style, best practices so consider the following as you work:

-   Git commit history, clarity of commit messages
-   How readable/maintainable code is
-   Adherence to the style set out in the project scaffolding
-   Type-safety and Typescript best practice

In the interview, there will be a hidden test suite run against your solution.
Any failures and their potential solutions will be discussed.

Additionally, be prepared to discuss potential improvements that could be made to the code base.
For example, any changes of the internal interfaces or API surface that could be made and their pros/cons.

## Problem statement

The challenge here is to implement the internals of an API server that is capable of temporarily storing
"files".
The API in question is already partially implemented, it is up to you in this challenge to finish the implementation.

This problem is extracted and simplified from a real-life solution that has been implemented at omniscient.
The requirements of that service are that files must be kept in-memory (never persisted) as the contain PHI.
At omnisicent, we've selected valkey for the in-memory storage backend.
In this challenge is a test implementation of the "storage backend" that you will work with.

In valkey, maximum key size is limited to 512MB while files to be stored are frequently larger than that in
size.
As such, a requirement of the solution to this problem is that values support a configurable key size.

As the files in the real-world scenario are brain scans used to make surgical decisions, file integrity is
important.
SHA-1 checksums should be used to ensure that files are not corrupted and delivered in full.

Explore the code included in this repository to complete the challenge.

## Developing

-   Node.js 20 is required
-   Install dependencies with `yarn` (you can alternatively use `npm` if you desire. The intent of the challenge
    is not focused on your ability to setup tools)
-   Run tests with `yarn test`
-   Check typescript typings with `yarn typecheck`
-   Apply automatic formatting with `yarn autoformat`

## Hints

-   Dependency injection is used to structure the project. It is unlikely that you will need to interact with it
    in completing the challenge however you may do so if it makes sense. If you choose to do so, review the basics of [tsyringe usage](https://github.com/microsoft/tsyringe).
-   It is recommended to start by running the tests and working from failures
    -   Reading the `TestBackend` implementation is recommended so that you are aware of the storage backend
        methods that are available
-   The `node:crypto` module has utilities for computing sha-1 checksums of data. There is a helper method
    implemented in the codebase to make using this easy.
